CREATE DATABASE rasales;

USE rasales;

CREATE TABLE users (ID_USER INT(11) AUTO_INCREMENT PRIMARY KEY, USER_NAME VARCHAR(40) NOT NULL, EMAIL VARCHAR(40) NOT NULL); 

ALTER TABLE users ADD UNIQUE KEY (USER_NAME, EMAIL);

CREATE TABLE accounts (ID_USER INT(11) NOT NULL,ID_ACCOUNT INT(11) NOT NULL, ID_ACC_AUTO INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, ACCOUNT_NUMBER INT(11) NOT NULL,SUB_ACCOUNT VARCHAR(30));

ALTER TABLE accounts ADD CONSTRAINT fk_users FOREIGN KEY (ID_USER) REFERENCES users (ID_USER);

CREATE TABLE orders (ID_ACC_AUTO INT(11) NOT NULL, ID_ORDER INT(11) NOT NULL PRIMARY KEY AUTO_INCREMENT,DATE_SOLDON DATE NOT NULL,DATE_ENTERED TIMESTAMP,OBJ_CODE INT(4) NOT NULL,SUB_OBJCODE VARCHAR(3) NOT NULL,ITEM_TITLE VARCHAR(40) NOT NULL,ITEM_TYPE VARCHAR(10) NOT NULL,QUANTITY INT(11) NOT NULL,PRICE_PER_COPY FLOAT NOT NULL,TOTAL_COST FLOAT NOT NULL);

ALTER TABLE orders ADD CONSTRAINT fk_accounts FOREIGN KEY (ID_ACC_AUTO) REFERENCES accounts (ID_ACC_AUTO);

#CREATE TABLE items (ID_ITEM INT(2) NOT NULL, ITEM_TITLE VARCHAR(40) NOT NULL, PRICE_PER_COPY FLOAT NOT NULL, SUB_OBJCODE VARCHAR(3));

#LOAD DATA LOCAL INFILE '/home/wsang/swlist.txt' INTO TABLE itmes;

ALTER TABLE orders ADD COLUMN PRODUCT varchar(100), ADD COLUMN PRODUCT_FAMILY varchar(100), ADD COLUMN ITEM_NUMBER int(4);